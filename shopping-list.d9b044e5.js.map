{"mappings":"oeAAAA,EAAA,S,iCCAA,MAAMC,EAAmB,eACnBC,EAAwBC,SAASC,cACrC,6BAEF,GAAIC,aAAaC,QAAQL,GAAmB,CAC1C,MAAMM,EAAmBF,aAAaC,QAAQL,GAE9C,IAAIO,EAAeC,KAAKC,MAAMH,GAE9B,MAAMI,EAAgBH,EAAaI,KAInC,SAA4BC,GAC1B,MAAMC,WACJA,EAAUC,OACVA,EAAMC,UACNA,EAASC,YACTA,EAAWC,MACXA,EAAKC,GACLA,EAAEC,aACFA,EAAYC,iBACZA,EAAgBC,eAChBA,GACET,EAEEU,EAAwBpB,SAASqB,cAAc,OACrDD,EAAsBE,UAAUC,IAAI,2BACpCH,EAAsBI,QAAQR,GAAKA,EAEnC,MAAMS,EAAiB,aAAad,2HAEII,oDACDF,yDACMC,qDACJF,6JAK1BK,6JAKAC,qKAKAC,yKAWf,OAFAC,EAAsBM,UAAYD,EAE3BL,C,IAKT,MAAMO,EAA2B3B,SAASqB,cAAc,OACxDM,EAAyBL,UAAUC,IAAI,2BACvCf,EAAcoB,SAAQC,IACpBF,EAAyBG,YAAYD,EAAK,IAG5C9B,EAAsBgC,YAAYJ,GAYlC,SAASK,EAA4BC,GACnC,MAAMjB,EAAKiB,EAAMC,OAAOC,QAAQ,4BAA4BX,QAAQR,GACpEX,EAAeA,EAAa+B,QAAOP,GAAQA,EAAKb,KAAOA,IACvDd,aAAamC,QAAQvC,EAAkBQ,KAAKgC,UAAUjC,IACtDsB,EAAyBY,YACvBN,EAAMC,OAAOC,QAAQ,6BAKK,IAAxB9B,EAAamC,QACfb,EAAyBI,YAAYhC,E,CAnBnBC,SAASyC,iBAAiB,mBAElCb,SAAQc,IACpBA,EAAMC,iBAAiB,QAASX,EAA4B,IAyBlC,IAAxB3B,EAAamC,SACVxC,SAASC,cAAc,6BAC1BD,SAAS4C,KAAKd,YAAYH,GAE5BA,EAAyBI,YAAYhC,IAKvC,MAAM8C,EAAsB7C,SAASC,cAAc,yBAE/C4C,IAC0B,IAAxBxC,EAAamC,OACfK,EAAoBvB,UAAUC,IAAI,qBAElCsB,EAAoBvB,UAAUwB,OAAO,qB","sources":["src/shopping-list.js","src/js/components/shopping.js"],"sourcesContent":["import './js/components/header.js';\nimport './js/components/authorization.js';\nimport './js/components/slider.js';\nimport './js/components/switchThems';\nimport './js/components/shopping.js';\n\nimport './js/components/scrollUp.js';\n","const BOOKS_IN_STORAGE = 'storage-data';\nconst shoppingListContainer = document.querySelector(\n  '.shopping-list-empty-page'\n);\nif (localStorage.getItem(BOOKS_IN_STORAGE)) {\n  const shoppingListJSON = localStorage.getItem(BOOKS_IN_STORAGE);\n\n  let shoppingList = JSON.parse(shoppingListJSON);\n\n  const shoplistBooks = shoppingList.map(makeShoplistMarkup);\n\n  // CreateMarkup\n\n  function makeShoplistMarkup(shoppingList) {\n    const {\n      book_image,\n      author,\n      list_name,\n      description,\n      title,\n      id,\n      marketAmazon,\n      marketAppleBooks,\n      marketBookshop,\n    } = shoppingList;\n\n    const shoplistBookContainer = document.createElement('div');\n    shoplistBookContainer.classList.add('shoplist-book-container');\n    shoplistBookContainer.dataset.id = id;\n\n    const shoplistMarkup = `<img src=\"${book_image}\" class=\"shoplist-book-img\">\n        <div class=\"shoplist-desc-container\">\n          <h4 class=\"shoplist-book-title\">${title}</h4>\n          <p class=\"shoplist-book-genre\">${list_name}</p>\n          <p class=\"shoplist-book-description\">${description}</p>\n           <p class=\"shoplist-book-author\">${author}</p>\n        </div>\n        <div class=\"shoplist-icons\">\n    <ul class=\"shoplist-icons-list\">\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${marketAmazon}\" target=\"blank\">\n          <div class=\"shoplist-icon-amazon\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${marketAppleBooks}\" target=\"blank\">\n          <div class=\"shoplist-icon-barnesAndNoble\"></div>\n        </a>\n      </li>\n      <li class=\"shoplist-icons-li\">\n        <a href=\"${marketBookshop}\" target=\"blank\">\n          <div class=\"shoplist-icon-bookshop\"></div>\n        </a>\n      </li>\n    </ul>\n  </div>\n        <div class=\"shoplist-trash\"></div>\n`;\n\n    shoplistBookContainer.innerHTML = shoplistMarkup;\n\n    return shoplistBookContainer;\n  }\n\n  // Create new container and replace markup\n\n  const newShoppingListContainer = document.createElement('div');\n  newShoppingListContainer.classList.add('shopping-list-container');\n  shoplistBooks.forEach(book => {\n    newShoppingListContainer.appendChild(book);\n  });\n\n  shoppingListContainer.replaceWith(newShoppingListContainer);\n\n  // Add trash to each element\n\n  const shoplistTrash = document.querySelectorAll('.shoplist-trash');\n\n  shoplistTrash.forEach(trash => {\n    trash.addEventListener('click', removesBookFromShoppingList);\n  });\n\n  // Update Local Storage\n\n  function removesBookFromShoppingList(event) {\n    const id = event.target.closest('.shoplist-book-container').dataset.id;\n    shoppingList = shoppingList.filter(book => book.id !== id);\n    localStorage.setItem(BOOKS_IN_STORAGE, JSON.stringify(shoppingList));\n    newShoppingListContainer.removeChild(\n      event.target.closest('.shoplist-book-container')\n    );\n\n    // Fix updating on the page\n\n    if (shoppingList.length === 0) {\n      newShoppingListContainer.replaceWith(shoppingListContainer);\n      // paginationContainer.classList.add('pagination-hidden');\n    }\n  }\n\n  function updateBookOnStorage() {\n    localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n  }\n\n  if (shoppingList.length === 0) {\n    if (!document.querySelector('.shopping-list-container')) {\n      document.body.appendChild(newShoppingListContainer);\n    }\n    newShoppingListContainer.replaceWith(shoppingListContainer);\n  }\n\n  // Pagination\n\n  const paginationContainer = document.querySelector('.pagination-container');\n\n  if (paginationContainer) {\n    if (shoppingList.length === 0) {\n      paginationContainer.classList.add('pagination-hidden');\n    } else {\n      paginationContainer.classList.remove('pagination-hidden');\n    }\n  }\n}\n"],"names":["parcelRequire","$618d1b84fbdd729e$var$BOOKS_IN_STORAGE","$618d1b84fbdd729e$var$shoppingListContainer","document","querySelector","localStorage","getItem","shoppingListJSON","shoppingList1","JSON","parse","shoplistBooks","map","shoppingList2","book_image","author","list_name","description","title","id","marketAmazon","marketAppleBooks","marketBookshop","shoplistBookContainer","createElement","classList","add","dataset","shoplistMarkup","innerHTML","newShoppingListContainer","forEach","book","appendChild","replaceWith","$618d1b84fbdd729e$var$removesBookFromShoppingList","event","target","closest","filter","setItem","stringify","removeChild","length","querySelectorAll","trash","addEventListener","body","paginationContainer","remove"],"version":3,"file":"shopping-list.d9b044e5.js.map"}